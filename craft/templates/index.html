{#
 # Homepage template
 # ---------------
 #
 # When this template gets loaded, it will be because someone has accessed
 # http://yoursite.com/ (without any URI). Craft checks to see if you have
 # a Single section set to be the Homepage (as you do, by default), and
 # loads the section’s Template (this file). A special ‘entry’ variable
 # will already be set for you, assigned to the Homepage entry.
 #
 # It's worth noting that even if you didn't have a Homepage Single section,
 # as long as this template remains at craft/templates/index.html, it
 # would still be the one to get loaded when accessing http://yoursite.com/,
 # albeit without an ‘entry’ variable already set for you.
 #
 # See this page for more details on how Craft routes requests:
 # http://craftcms.com/docs/routing
 #}

{% extends "_layout" %}

{% block content %}
<div class="swiper-container">
  <div class="swiper-wrapper">
    <div class="hp-slide1 relative swiper-slide overflow-visible bg-white pt5">
      <div class="hp-video-wrapper absolute top-0 left-0 w-100">
        <video src="{% for asset in entry.video %}{{ siteUrl }}{{ asset.url }}{% endfor %}" class="hp-video absolute top-0 left-0 w-100 h-100" autoplay loop muted onloadedmetadata="this.muted = true"></video>
        <div
          class="hp-image absolute top-0 left-0 w-100 h-100"
          style="background: url({% for asset in entry.image %}{{ siteUrl }}{{ asset.url }}{% endfor %}) no-repeat 75% 50%; background-size: cover;"></div>
        <div class="slide__imageFade absolute"></div>
        <div class="hp-slide1__cover absolute top-0 left-0 w-100 h-100"></div>
      </div>
      <div class="hp-slide1-content relative center mw8 w-90 cf dn mt5-ns mt4 relative">
        <div class="hp-slide1__text">
          <h2 class="hp-slide1__headline w-70-ns f-headline-l f1 fw7 mt5 mb4-ns mb3 white text-shadow">{{ entry.body }}</h2>
          <button class="fw6 pa0 next-slide bg-transparent pointer bn input-reset underline dib f4 link black mt2">View case studies</button>
        </div>
        <div class="hp-slide1__shape absolute">
          <img src="assets/img/shapes/slide-intro.svg">
        </div>
      </div>
      <div class="hp-slide1__overlay--mingle absolute top-0 h-100 z-1"></div>

      <style>
      /* Add custom styles from CMS for each slide as we iterate through */
      .hp-slide1 .hp-slide1__cover {
        background: {{ entry.color }};
      }
      .hp-slide1 .slide__imageFade {
        background: linear-gradient(to top, {{ entry.color }} 0%, {{ entry.color }} 10%, rgba(255,255,255,0) 100%);
      }
      .hp-slide1__overlay--mingle {
        background: linear-gradient(to top, rgba(255,255,255,0) 0%, {{ entry.color }} 90%, {{ entry.color }} 100%)
      }
      @media (min-width: 992px) {
        .hp-slide1 .slide__imageFade {
          background: linear-gradient(to left, {{ entry.color }} 0%, {{ entry.color }} 10%, rgba(255,255,255,0) 100%);
        }
        .hp-slide1__overlay--mingle {
          background: linear-gradient(to left, rgba(255,255,255,0) 0%, {{ entry.color }} 90%, {{ entry.color }} 100%)
        }
      }
      </style>
    </div>
    {% include 'partials/feat-case-studies.html' %}
    {% include 'partials/services.html' %}
    {% include 'partials/clients.html' %}
    {% include 'partials/work.html' %}
    {% include 'partials/studio.html' %}
  </div>
</div>

<!-- Services list -->
<div class="services-list fixed z-1 bottom-0 right-0 w-40-l pb5 pr4-l pr3-ns ph3 ph0-ns">
  <div class="services-list__content">
    <div class="services__shape absolute">
      <svg class="mobile" width="765" height="351" viewBox="0 0 765 351" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Services Mobile</title><desc>Mobile shape</desc><use xlink:href="#a" fill="{{ entry.serviceListColor }}"/><defs><path id="a" d="M77.579 53.036c-26.834 15.167-79.9 64-77.5 138 2.319 71.497 47.453 101.142 72 107.877 158.5 52.624 639.1 81.324 679.5 4.123C802.079 206.536 684.5 92 684.5 92S620.5 6.46 577 .927c-114-14.5-244 146.89-326.5 82-69.208-54.436-129.921-58.89-172.921-29.89z"/></defs></svg>

      <svg class="desktop" width="1114" height="825" viewBox="0 0 1114 825" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <title>Vector 4</title>
      <desc>Created using Figma</desc>
      <g id="Canvas" transform="translate(-17011 -9595)">
      <g id="Vector 4">
      <use xlink:href="#path0_fill" transform="translate(17011 9595.87)"/>
      </g>
      </g>
      <defs>
      <path fill="{{ entry.serviceListColor }}" id="path0_fill" d="M 241.265 231.881C 18.8648 273.481 -22.0157 450.082 9.26483 625.881C 54.7042 881.253 236.465 859.481 665.265 729.881C 1201.26 567.881 1133 160.135 1075.26 87.881C 1017.53 15.6271 928.265 -67.119 773.265 87.881C 618.265 242.881 519.265 179.881 241.265 231.881Z"/>
      </defs>
      </svg>


    </div>
    {% set serviceList = entry.serviceList %}
    {% for entry in serviceList %}
      <div class="list relative">
        <h3 class="white f3-ns f4">{{ entry.serviceType }}</h3>
        <ul>
          {% set service = entry.service %}
          {% for entry in service %}
            <li class="white f4-ns f5">{{ entry.service }}</li>
          {% endfor %}
        </ul>
      </div>
    {% endfor %}
  </div>
  <button class="services-list__link absolute z-1 white input-reset button-reset bg-transparent bn pointer">?</button>

  <style>
    .services-list__link {
      background: {{ entry.serviceListColor }}
    }
  </style>
</div>

<script src="{{ siteUrl }}assets/js/home.min.js"></script>
{% endblock %}
