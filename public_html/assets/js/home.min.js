"use strict";

function getBreakpoints() {
  var e = window.innerWidth,
      s = { xlarge: "1200", large: "992", medium: "768", small: "576", xs: "0" },
      t = Object.keys(s).map(function (e) {
    return s[e];
  }).find(function (s) {
    return e > s;
  });return Object.keys(s).find(function (e) {
    return s[e] === t;
  });
}function blendColors(e, s, t) {
  var a = parseInt(e.slice(1), 16),
      i = parseInt(s.slice(1), 16),
      n = a >> 16,
      o = a >> 8 & 255,
      l = 255 & a,
      r = i >> 16,
      p = i >> 8 & 255,
      c = 255 & i;return "#" + (16777216 + 65536 * (Math.round((r - n) * t) + n) + 256 * (Math.round((p - o) * t) + o) + (Math.round((c - l) * t) + l)).toString(16).slice(1);
}function physicsAnimation(e, s, t, a, i, n, o) {
  function l() {
    d.translation.set(e.width / 2, e.height / 2), h.translation.copy(d.translation);
  }e.renderer.domElement.style.overflow = "visible";var r = t,
      p = a,
      c = n || .03,
      d = e.makeGroup(),
      h = e.makeGroup(),
      m = new Physics(),
      g = [],
      u = 0;for (u = 0; u < i; u++) {
    var v = u / i * Math.PI * 2,
        y = r * Math.cos(v),
        _ = p * Math.sin(v),
        w = Math.random() * (.95 - .85) + .85,
        f = w * y,
        A = w * _,
        S = m.makeParticle(100, y, _),
        k = m.makeParticle(100 * Math.random() * .66 + 33, f, A);m.makeSpring(k, S, c, 0, 0);S.makeFixed(), k.shape = e.makeCircle(k.position.x, k.position.y, 1), k.shape.noStroke().fill = "rgba(255,255,255,0)", k.position = k.shape.translation, h.add(k.shape), g.push(k.position);
  }var T = e.makeLinearGradient(-e.width / 2, e.height / 2, e.width / 2, e.height / 2, new Two.Stop(0, blendColors(s, "#000000", .3)), new Two.Stop(1, s)),
      C = new Two.Path(g, !0, !0);C.fill = o ? T : s, C.scale = 1.15, C.linewidth = 0, d.add(C), l(), e.bind("resize", l).bind("update", function () {
    m.update();
  }).play();
}function controlAnimation(e, s) {
  setTimeout(function () {
    s && e.pause();
  }, 1e3), s || e.play();
}function generateSwiper(e) {
  function s(e) {
    var s = document.getElementsByClassName("logo-svg")[0],
        t = document.getElementsByClassName("hp-slide1-content"),
        a = document.getElementsByClassName("hp-slide1__text"),
        i = document.getElementsByClassName("hp-slide1__overlay"),
        n = document.querySelectorAll(".swiper-slide-active video")[0];if (n && n.play(), 1 === e.activeIndex) {
      for (o = 0; o < a.length; o++) {
        a[o].classList.add("ready-to-animate");
      }for (o = 0; o < i.length; o++) {
        i[o].classList.add("ready-to-animate");
      }e.params.allowSwipeToPrev = !1, e.params.allowSwipeToNext = !1, setTimeout(function () {
        s.classList.add("visible");
      }, 500);for (var o = 0; o < i.length; o += 1) {
        i[o].classList.remove("ready-to-animate");
      }navTrigger.style.opacity = 1, setTimeout(function () {
        for (var s = 0; s < a.length; s += 1) {
          a[s].classList.remove("ready-to-animate");
        }e.params.allowSwipeToPrev = !0, e.params.allowSwipeToNext = !0;var t = document.querySelectorAll(".hp-slide1__headline .wordList span");homeAnimation || loopAnimation(!0, triggeredHomeAnimation, "home", t);
      }, 1600);
    } else navTrigger.style.opacity = 1;s.style.display = "block";for (var l = 0; l < t.length; l += 1) {
      t[l].classList.remove("dn");
    }document.getElementsByClassName("services-list")[0];var r = document.getElementsByClassName("services-title");serviceAnimation || 5 !== e.activeIndex || loopAnimation(!0, triggeredServices, "service", r), nextSlideLinks();
  }function t(e) {
    var s = document.querySelectorAll(".swiper-slide-active video")[0];shapes["shape_" + e.previousIndex] && controlAnimation(shapes["shape_" + e.previousIndex], !0), shapes["shape_" + e.activeIndex] && controlAnimation(shapes["shape_" + e.activeIndex]), s && (s.load(), setTimeout(function () {
      s.play();
    }, 1e3));var t = document.querySelectorAll(".swiper-slide-prev video")[0];t && t.currentTime > 0 && !t.paused && !t.ended && t.readyState > 2 && (t.pause(), t.currentTime = 0), serviceAnimation && 5 === e.previousIndex && clearInterval(serviceAnimation);var a = document.getElementsByClassName("services-title");serviceAnimation || 5 !== e.activeIndex || loopAnimation(!0, triggeredServices, "service", a);
  }var a = {};var i = { keyboardControl: !0, a11y: !0, mousewheelControl: !0, hashnav: !0, speed: 1e3, loop: !0, onInit: function onInit(e) {
      return s(e);
    }, runCallbacksOnInit: !1, onSlideChangeStart: function onSlideChangeStart(e) {
      return t(e);
    } },
      n = { keyboardControl: !0, a11y: !0, mousewheelControl: !0, mousewheelSensitivity: 3, direction: "vertical", hashnav: !0, speed: 1e3, loop: !0, onInit: function onInit(e) {
      return s(e);
    }, runCallbacksOnInit: !1, onSlideChangeStart: function onSlideChangeStart(e) {
      return t(e);
    } };a = "mobile" === e ? n : i, swiper = new Swiper(".swiper-container", a);
}function modifySwiper() {
  var e = getBreakpoints();"xlarge" !== e && "large" !== e || ((null !== swiper && desktopFlag || null === swiper && !desktopFlag) && (null !== swiper && swiper.destroy(!0, !0), generateSwiper("desktop")), desktopFlag = !1), "xlarge" !== e && "large" !== e && (desktopFlag || (null !== swiper && swiper.destroy(!0, !0), generateSwiper("mobile")), desktopFlag = !0);
}function nextSlideLinks() {
  function e() {
    swiper.slideNext();
  }var s = document.querySelectorAll(".next-slide");Array.from(s).forEach(function (s) {
    s.addEventListener("click", function () {
      e();
    });
  });
}function navigateToSlide(e) {
  var s = document.getElementsByClassName("nav-overlay")[0];document.getElementsByTagName("body")[0].classList.remove("open"), s.classList.remove("nav-open"), swiper.slideTo(Number(e), 0);
}function showServiceDetails() {
  var e = document.getElementsByClassName("services-list__content");for (var s = 0; s < e.length; s++) {
    e[s].classList.contains("visible") ? e[s].classList.remove("visible") : e[s].classList.add("visible");
  }
}function generateContent() {
  var e = getBreakpoints();if ("xlarge" === e || "large" === e) {
    var _e = document.getElementsByClassName("hp-video");for (s = 0; s < _e.length; s++) {
      var _t = _e[s].getAttribute("data-src");_e[s].setAttribute("src", _t);
    }var t = document.getElementsByClassName("hp-image");for (s = 0; s < t.length; s++) {
      t[s].classList.add("dn");
    }
  }if ("xlarge" !== e && "large" !== e) {
    var _e2 = document.getElementsByClassName("hp-image");for (s = 0; s < _e2.length; s++) {
      _e2[s].classList.remove("dn");
    }var _t2 = document.getElementsByClassName("hp-video");for (var s = 0; s < _t2.length; s++) {
      _t2[s].removeAttribute("src");
    }
  }
}function loopAnimation(e, s, t, a) {
  if (e && !s) {
    var i = function i() {
      var e = [];for (var s = 0; s < a.length; s += 1) {
        var _t3 = a[s];_t3.classList.contains("fadeIn") && (_t3.classList.remove("fadeIn"), _t3.classList.add("fadeOut"), e.push(_t3), e.push(a[s + 1] ? a[s + 1] : a[0]));
      }setTimeout(function () {
        for (var s = 0; s < e.length; s += 2) {
          e[s + 1].classList.add("fadeIn"), e[s].classList.remove("fadeIn", "fadeOut");
        }
      }, 800);
    };

    "home" === t ? homeAnimation = setInterval(function () {
      i();
    }, 4e3) : serviceAnimation = setInterval(function () {
      i();
    }, 6e3);s = !0;
  } else "home" === t ? clearInterval(homeAnimation) : clearInterval(serviceAnimation), s = !1;
}function generateShapes() {
  var e = getBreakpoints();if (!slide1DesktopFlag && !document.querySelectorAll(".hp-slide1.swiper-slide-duplicate .hp-slide1__shape svg")[0]) {
    var _e3 = document.getElementsByClassName("hp-slide1__shape");shapes.shape_15 = new Two({ type: Two.Types.svg, width: 1e3 }).appendTo(_e3[1]), physicsAnimation(shapes.shape_15, "#fff", shapes.shape_15.height / 2, shapes.shape_15.height / 2, 8), controlAnimation(shapes.shape_15, !0);
  }if ("xlarge" !== e && "large" !== e || slide1DesktopFlag) {
    if ("xlarge" !== e && "large" !== e && slide1DesktopFlag) {
      var _e4 = document.querySelectorAll(".hp-slide1:not(.swiper-slide-duplicate) .hp-slide1__shape svg")[0];_e4 && _e4.parentNode.removeChild(_e4), slide1DesktopFlag = !1;
    }
  } else {
    var _e5 = document.getElementsByClassName("hp-slide1__shape");shapes.shape_1 = new Two({ type: Two.Types.svg, width: 1e3 }).appendTo(_e5[0]), physicsAnimation(shapes.shape_1, "#fff", shapes.shape_1.height / 2, shapes.shape_1.height / 2, 8), controlAnimation(shapes.shape_1, !0), slide1DesktopFlag = !0;
  }if (!caseStudyDesktopFlag) {
    var _e6 = document.querySelectorAll(".feat-case-study__slide.slide-1 .feat-case-study__slide__shape")[0],
        _s = document.querySelectorAll(".feat-case-study__slide.slide-2 .feat-case-study__slide__shape")[0],
        t = document.querySelectorAll(".feat-case-study__slide.slide-3 .feat-case-study__slide__shape")[0];shapes.shape_2 = new Two({ type: Two.Types.svg, width: 1125 }).appendTo(_e6), shapes.shape_3 = new Two({ type: Two.Types.svg, width: 1e3, height: 550 }).appendTo(_s), shapes.shape_4 = new Two({ type: Two.Types.svg, width: 1e3 }).appendTo(t), physicsAnimation(shapes.shape_2, _e6.dataset.color, shapes.shape_2.width / 3.5, shapes.shape_2.height / 3.5, 10, null, !0), controlAnimation(shapes.shape_2, !0), physicsAnimation(shapes.shape_3, _s.dataset.color, shapes.shape_3.width / 2.5, shapes.shape_3.height / 3.5, 10, null, !0), controlAnimation(shapes.shape_3, !0), physicsAnimation(shapes.shape_4, t.dataset.color, shapes.shape_4.width / 2.75, shapes.shape_4.height / 3, 10, null, !0), controlAnimation(shapes.shape_4, !0), caseStudyDesktopFlag = !0;
  }if ("xlarge" !== e && "large" !== e && "medium" !== e || servicesDesktopFlag) {
    if ("xlarge" !== e && "large" !== e && "medium" !== e && servicesDesktopFlag) {
      var _e7 = document.querySelectorAll(".services__shape svg:not(.mobile)");if (_e7) for (var s = 0; s < _e7.length; s++) {
        _e7[s].parentNode.removeChild(_e7[s]);
      }servicesDesktopFlag = !1;
    }
  } else {
    var _e8 = document.querySelectorAll(".services-list .services__shape")[0];shapes.shape_5 = new Two({ type: Two.Types.svg, width: 1400 }).appendTo(_e8), physicsAnimation(shapes.shape_5, "#F62944", shapes.shape_5.width / 5, shapes.shape_5.height / 2, 10, null, !0), controlAnimation(shapes.shape_5, !0), servicesDesktopFlag = !0;
  }setTimeout(function () {
    shapes["shape_" + swiper.activeIndex] && controlAnimation(shapes["shape_" + swiper.activeIndex]);
  }, 1e3);
}var navTrigger = document.getElementsByClassName("nav-button")[0];var slide1_a,
    slide1_b,
    case1_shape,
    case2_shape,
    case3_shape,
    services_shape = null;var shapes = { shape_1: null, shape_15: null, shape_2: null, shape_3: null, shape_4: null, shape_5: null };var serviceAnimation = null,
    triggeredServices = !1,
    swiper = null,
    homeAnimation = null,
    triggeredHomeAnimation = !1,
    desktopFlag = !1;var links = document.querySelectorAll(".nav__links .link");Array.from(links).forEach(function (e) {
  e.addEventListener("click", function () {
    navigateToSlide(e.getAttribute("data-slide"));
  });
});var showServices = document.getElementsByClassName("services-list__link");Array.from(showServices).forEach(function (e) {
  e.addEventListener("click", showServiceDetails);
});var slide1DesktopFlag = !1,
    caseStudyDesktopFlag = !1,
    servicesDesktopFlag = !1;modifySwiper(), generateShapes(), generateContent(), window.addEventListener("resize", function () {
  modifySwiper(), generateShapes(), generateContent();
});