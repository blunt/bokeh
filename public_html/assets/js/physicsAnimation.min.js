"use strict";

function blendColors(e, a, s) {
  var t = parseInt(e.slice(1), 16),
      i = parseInt(a.slice(1), 16),
      n = t >> 16,
      o = t >> 8 & 255,
      h = 255 & t,
      p = i >> 16,
      r = i >> 8 & 255,
      l = 255 & i;return "#" + (16777216 + 65536 * (Math.round((p - n) * s) + n) + 256 * (Math.round((r - o) * s) + o) + (Math.round((l - h) * s) + h)).toString(16).slice(1);
}function physicsAnimation(e) {
  function a() {
    n.translation.set(e.shape.width / 2, e.shape.height / 2), o.translation.copy(n.translation);
  }e.shape.renderer.domElement.style.overflow = "visible";var s = e.shapeRadiusX,
      t = e.shapeRadiusY,
      i = e.speed ? e.speed : .03,
      n = e.shape.makeGroup(),
      o = e.shape.makeGroup(),
      h = new Physics(),
      p = [],
      r = 0;for (r = 0; r < e.shapePoints; r++) {
    var l = r / e.shapePoints * Math.PI * 2,
        d = s * Math.cos(l),
        u = t * Math.sin(l),
        c = Math.random() * (.95 - .85) + .85,
        m = c * d,
        w = c * u,
        f = h.makeParticle(100, d, u),
        k = h.makeParticle(100 * Math.random() * .66 + 33, m, w);h.makeSpring(k, f, i, 0, 0);f.makeFixed(), k.shape = e.shape.makeCircle(k.position.x, k.position.y, 1), k.shape.noStroke().fill = "rgba(255,255,255,0)", k.position = k.shape.translation, o.add(k.shape), p.push(k.position);
  }var M = e.shape.makeLinearGradient(-e.shape.width / 2, e.shape.height / 2, e.shape.width / 2, e.shape.height / 2, new Two.Stop(0, blendColors(e.shapeColor, "#000000", .3)), new Two.Stop(1, e.shapeColor)),
      g = new Two.Path(p, !0, !0);g.fill = e.gradient ? M : e.shapeColor, g.scale = 1.15, g.linewidth = 0, n.add(g), a(), e.shape.bind("resize", a).bind("update", function () {
    h.update();
  }).play();
}function controlAnimation(e, a) {
  setTimeout(function () {
    a && e.pause();
  }, 1e3), a || e.play();
}